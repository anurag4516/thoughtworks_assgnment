---
- name: Download MediaWiki
  get_url:
    url: "https://releases.wikimedia.org/mediawiki/1.34/mediawiki-1.34.2.tar.gz"
    dest: /home/ec2-user/mediawiki-1.34.2.tar.gz


- name: Download GPG signature
  get_url:
    url: "https://releases.wikimedia.org/mediawiki/1.34/mediawiki-1.34.2.tar.gz.sig"
    dest: /home/ec2-user/



#- name: Creates directory
#  become: yes
 # file:
  #  path: /var/www/html/media
   # state: directory
   # mode: 0755

- name: Unarchive MediaWiki
  become: yes
  unarchive:
    src: /home/ec2-user/mediawiki-1.34.2.tar.gz
    dest: /var/www/html/
    remote_src: yes

- name: Adding Hard Link
  command: ln -s mediawiki-1.34.2/ mediawiki
  ignore_errors: True

- name: Renaming File
  become: yes
  command: mv mediawiki-1.34.2/ media
  args:
    chdir: /var/www/html/
  ignore_errors: True

